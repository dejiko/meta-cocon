#!/bin/bash

# opencocon option menu

SELECT=/tmp/.cocon.menu.select

while :
do

  dialog --menu "Option, Ambient tools" 20 60 25 \
  MIX   "Sound mixer" \
  SNDT  "Sound test (Caution: play noise sound!)" \
  TPAD  "Touchpad calibration" \
  IMAGE "Image viewer (Incomplete)" \
  RANDR "Change resolution, output of screen" \
  RET   "Return to main menu" 2>$SELECT

  select=`cat $SELECT`

  case $select in
  MIX)
    alsamixer
    ;;

  SNDT)
    aplay /usr/share/sounds/alsa/Noise.wav
    ;;

  TPAD)
    xinput_calibrator_once.sh
    ;;

  IMAGE)
    ssdir="/media/cf/media/realroot/coconpic/"
    if [ -d "$ssdir" ];
    then
      echo "Using slideshow directory on realroot"
    else
      echo "Using pre-installed slideshow"
      ssdir="/usr/share/cocon/pic/"
    fi
     
    viewnior --slideshow --fullscreen $ssdir
    ;;

  RANDR)
    lxrandr
    ;;

  RET)
    exit 1
    ;;

  esac

done

